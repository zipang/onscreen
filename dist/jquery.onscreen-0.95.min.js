/**
 * $.onScreen - v0.95 - Mon Sep 22 2014 06:46:08 GMT+0200 (CEST)

 * @author zipang (EIDOLON LABS)
 * @url http://github.com/zipang/onscreen
 * @copyright (2014) EIDOLON LABS

 * Project images or video full screen or on any HTML element
 * Supports additional HTML content
 * Automatic preloading of resources (images) 
 * Smooth transitions using CSS3 or JS 
 */
(function(e,t,n){function s(t,n){var r=(t||"screen").replace("#",""),i=e("#"+r);return i.length===0&&(i=e("<div>").attr("id",r).css({position:"fixed",left:0,top:0,margin:0,padding:0,overflow:"hidden",zIndex:n||-999999,height:"100%",width:"100%"}).prependTo("body")),i}function o(t,n,r){return t?n?e("<div>").addClass("slide").addClass(r).append(t).append(e(n)):t.addClass("slide").addClass(r).show():e("<div>").addClass("slide").addClass(r).append(e(n||""))}function u(t){var t=t;return function(n,r,s,o){e.onScreen.transition=!0,r.addClass("in"),n.addClass("out"),e("img",t).show(),t.addClass("transition"),setTimeout(function(){n.remove(),t.removeClass("transition"),r.removeClass("in"),e.onScreen.transition=!1,typeof o=="function"&&requestAnimationFrame(o),t.trigger(r===i?"emptySlide":"transitionEnd",r)},s)}}function a(t){var t=t;return function(n,r,s,o){e.onScreen.transition=!0,n.fadeOut(s),e("img",t).show(),r.fadeIn(s,function(){n.remove(),e.onScreen.transition=!1,typeof o=="function"&&o(),t.trigger(r===i?"emptySlide":"transitionEnd",r)})}}var r=e(t),i=e();t.requestAnimationFrame||(t.requestAnimationFrame=function(e){setTimeout(e,10)});var f=document,l=(f.body||f.documentElement).style;e.support.transition="WebkitTransition"in l||"MozTransition"in l||"OTransition"in l||"transition"in l;var c={stretchMode:"crop",centeredX:!0,centeredY:!0,speed:1e3,useCSSTransitions:!0,transition:"fade"};e.onScreen=function(){function S(t){var t=t;return function(){var n=r.width(),i=r.height(),s=t.data("image");if(!s)return;var o=s.data("format"),u=n,a=u/o;g.stretchMode=="crop"?a<i&&(a=i,u=a*o):g.stretchMode=="adapt"?o<1&&(a=i,u=a*o):a>i&&(a=i,u=a*o);var f={position:"absolute",left:0,top:0};return g.centeredY&&e.extend(f,{top:(i-a)/2+"px"}),g.centeredX&&e.extend(f,{left:(n-u)/2+"px"}),s.width(u).height(a).css(f)}}var t=arguments[0]||"",f,l=typeof t=="string"?t:t.source,h=t.type||"image",p=e.onScreen.getPlugin(l),d=t.content,v=t.callback,m=e.Deferred();if(!t||e.onScreen.transition)return m.reject("Transition in progress").promise();f=(new s(t.screen,t.zindex)).show(),f.data("monitored")||(r.on("resize",S(f)),f.data("monitored",!0));var g=f.data("settings")||c;for(var y in c)t.hasOwnProperty(y)&&(g[y]=t[y]);f.data("settings",g),g.transition==="fade"&&(g.transition=g.useCSSTransitions&&e.support.transition?u(f):a(f));var b=f.find(".slide"),w,E;return m.then(function(e,n){w=e||n?new o(e,n,h):i,(g["class"]||g.className)&&w.addClass(g["class"]||g.className),f.append(w).trigger("loaded",[t,w]),(b.length||w.length)&&g.transition(b,w,g.speed,v)}),l?h==="image"?E=e("<img>").css({display:"none",zIndex:-999999,width:"auto",height:"auto"}).on("load",function(){E.data("format",E.width()/E.height()),f.data("image",E),m.resolve(S(f)(),d)}).on("error",function(){f.data("image",n),m.resolve(n,d)}).appendTo(f).attr("src",l):(m.resolve(p.load(l,t),d),f.data("image",e("iframe",f))):(h="empty",f.data("image",n),m.resolve(n,d)),m.promise()},e.extend(e.onScreen,{getPlugin:function(t,r){var i=e.onScreen.plugins,s,o;if(r&&i[r])return i[r];for(o in i){s=i[o];if(s.canHandle(t))return s}return n},addPlugin:function(t,r,i){var s=e.onScreen.plugins===n?e.onScreen.plugins={}:e.onScreen.plugins;s[t]={canHandle:r,load:i}}}),e.onScreen.addPlugin("image",function(t){return/\.(png|jpg|jpeg|gif)$/i.test(t)},function(t,n){}),e.onScreen.addPlugin("empty-slide",function(t){return typeof t!="string"},function(t,n){})})(window.jQuery||window.Zepto,this),function(e){function r(e){return e&&/youtu/gi.test(e)}function i(e){return e.split("/").pop()}function s(e,t){var n="//www.youtube.com/embed/"+e,r=["rel=0&showinfo=0"];return t.autoplay&&r.push("autoplay=1"),[n,r.join("&")].join("?")}function o(r,o){o=o||{};if(r.indexOf("?")!==-1){var u=r.split("?"),a=u[1].split("&");e.each(a,function(e,t){var n=t.split("="),r=n[0],i=n[1];r==="v"?u[0]="http://youtu.be/"+i:o[r]||(o[r]=i)}),r=u[0]}var f=i(r),l=s(f,o),c=o.width||t,h=o.height||n,p=c/h,d=e("<iframe>").attr("src",l).attr("width",c).attr("height",h).attr("frameborder",0).attr("allowfullscreen","0").data("format",p),v=e("<div>").attr("class","video-container"),m=e("<div>").attr("class","embed-responsive");return v.append(m.append(d))}var t=640,n=480;e&&e.onScreen&&e.onScreen.addPlugin("youtube",r,o)}(window.jQuery||window.Zepto),function(e){function r(e){return e&&e.indexOf("vimeo.com")!==-1}function i(e){return e.split("/").pop()}function s(e,t){var n=[],r="//player.vimeo.com/video/"+e;return t.title||n.push("title=0"),t.byline||n.push("byline=0"),t.portrait||n.push("portrait=0"),t.color&&n.push("color="+t.color),t.autoplay&&n.push("autoplay=1"),[r,n.join("&")].join("?")}function o(r,o){o=o||{};if(r.indexOf("?")!==-1){var u=r.split("?"),a=u[1].split("&");e.each(a,function(e,t){var n=t.split("=");o[n[0]]||(o[n[0]]=n[1])}),r=u[0]}var f=i(r),l=s(f,o),c=o.width||t,h=o.height||n,p=c/h,d=e("<iframe>").attr("src",l).attr("width",c).attr("height",h).attr("frameborder",0).attr("allowfullscreen","0").data("format",p),v=e("<div>").attr("class","video-container"),m=e("<div>").attr("class","embed-responsive");return v.append(m.append(d))}var t=640,n=480;e&&e.onScreen&&e.onScreen.addPlugin("vimeo",r,o)}(window.jQuery||window.Zepto)