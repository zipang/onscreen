(function(e,t,n){function s(t,n){typeof t=="string"&&t.indexOf("#")!==0&&(t="#"+t);var r=e(t);return r.length===0&&(r=e("<div>").attr("id",t).css({position:"fixed",left:0,top:0,margin:0,padding:n.padding||0,overflow:"hidden",zIndex:n.zindex||-999999,height:"100%",width:"100%"}).prependTo("body")),r}function o(t,n,r){return t?n?e("<div>").addClass("slide").addClass(r).append(t).append(e(n)):t.addClass("slide").addClass(r).show():e("<div>").addClass("slide").addClass(r).append(e(n||""))}function u(t){var t=t;return function(n,r,s,o){r.addClass("in"),n.addClass("out"),e("img",t).show(),t.addClass("transition"),setTimeout(function(){n.remove(),t.removeClass("transition"),r.removeClass("in"),typeof o=="function"&&requestAnimationFrame(o),t.trigger(r===i?"emptySlide":"transitionEnd",r)},s)}}function a(t){var t=t;return function(n,r,s,o){n.fadeOut(s),e("img",t).show(),r.fadeIn(s,function(){n.remove(),typeof o=="function"&&o(),t.trigger(r===i?"emptySlide":"transitionEnd",r)})}}function h(){function x(t){var t=t;return function(){var n=t.width(),r=t.height(),i=t.data("image");if(!i)return;var s=i.data("format"),o=n,u=o/s;b.stretchMode=="crop"?u<r&&(u=r,o=u*s):b.stretchMode=="adapt"?s<1&&(u=r,o=u*s):u>r&&(u=r,o=u*s);var a={position:"absolute",left:0,top:0};return b.centeredY&&e.extend(a,{top:(r-u)/2+"px"}),b.centeredX&&e.extend(a,{left:(n-o)/2+"px"}),i.width(o).height(u).css(a)}}var t,f=arguments[0]||"",l=f.source?f:arguments[1]||{},p=typeof f=="string"?f:l.source,d=l.type||"image",v=h.getPlugin(p),m=l.content,g=l.callback,y=e.Deferred();if(!p)return y.reject("Invalid Params : No source").promise();t=(new s(l.screen,l)).show(),t.data("monitored")||(r.on("resize",x(t)),t.data("monitored",!0));var b=t.data("settings")||c;e.extend(b,l),t.data("settings",b),b.transition==="fade"&&(b.transition=b.useCSSTransitions&&e.support.transition?u(t):a(t));var w=t.find(".slide"),E;y.then(function(e,n){E=e||n?new o(e,n,d):i,(b["class"]||b.className)&&E.addClass(b["class"]||b.className),t.append(E).trigger("loaded",[l,E]),(w.length||E.length)&&b.transition(w,E,b.transitionSpeed,g)});if(!p)d="empty",t.data("image",n),y.resolve(n,m);else if(d==="image")if(typeof p=="string"){var S=e("<img>").css({display:"none",zIndex:-999999,width:"auto",height:"auto"});S.on("load",function(){S.data("format",S.width()/S.height()),t.data("image",S),y.resolve(x(t)(),m)}).on("error",function(){t.data("image",n),y.resolve(n,m)}).appendTo(t).attr("src",p)}else t.data("image",p),p.data("format",p.width()/p.height()),p.removeAttr("style").appendTo(t),y.resolve(x(t)(),m);else y.resolve(v.load(p,l),m),t.data("image",e("iframe",t));return y.promise()}var r=e(t),i=e();t.requestAnimationFrame||(t.requestAnimationFrame=function(e){setTimeout(e,10)});var f=document,l=(f.body||f.documentElement).style;e.support.transition="WebkitTransition"in l||"MozTransition"in l||"OTransition"in l||"transition"in l;var c={stretchMode:"crop",centeredX:!0,centeredY:!0,transitionSpeed:1e3,useCSSTransitions:!0,transition:"fade"};e.extend(h,{_plugins:{},getPlugin:function(e,t){var r=h._plugins,i,s;if(t&&r[t])return r[t];for(s in r){i=r[s];if(i.canHandle(e))return i}return n},addPlugin:function(e,t,n){var r=t instanceof RegExp?function(e){return t.test(e)}:t;return h._plugins[e]={canHandle:r,load:n},h}}),h.addPlugin("image",function(n){if(typeof n=="string")return/\.(png|jpg|jpeg|gif)$/i.test(n);if(e(n).prop("tagName")==="IMG")return!0},function(t){return t}),e.onScreen=h})(window.jQuery||window.Zepto,this),function(e,t,n){function s(t,i){function l(e,i){return typeof e=="string"&&e==="last"?a=u-1:typeof e=="string"&&e==="fist"?a=0:e===n||e<0||e>=u?a=(a+1)%u:a=e,r(t[a],i)}function c(e){l.future=f?setTimeout(function(){requestAnimationFrame(l)},o.slideDuration):0}function h(){f=!1,clearTimeout(l.future)}function p(){f=!0,l()}function d(e){h(),l(a+1),e&&e.preventDefault()}function v(e){h(),l(a?a-1:u-1),e&&e.preventDefault()}function m(){f?h():p()}function g(e){switch(e.keyCode){case 37:v();break;case 39:d();break;case 32:m()}}var o=e.extend({},s.defaults,i),u=t.length,a=0,f=!0;return o.keyControls&&e(document).on("keydown",g),r("settings",o),l(0),{stop:h,play:p,playPause:m,displaySlide:l,previous:v,next:d}}var r=e.onScreen;if(!r)return;var i={slideDuration:4e3,transitionSpeed:1500,keyControls:!0,videoPlayer:{bgcolor:"black",width:960,height:540,autoplay:1,color:"111"}};s.defaults=i,e.onScreen=function(t,n){e.isArray(t)?new s(t,n):r(t,n)},e.extend(e.onScreen,{_plugins:r._plugins,getPlugin:r.getPlugin,addPlugin:r.addPlugin})}(window.jQuery||window.Zepto,this),function(e){function r(e){return e&&/youtu/gi.test(e)}function i(e){return e.split("/").pop()}function s(e,t){var n="//www.youtube.com/embed/"+e,r=["rel=0&showinfo=0"];return t.autoplay&&r.push("autoplay=1"),[n,r.join("&")].join("?")}function o(r,o){o=o||{};if(r.indexOf("?")!==-1){var u=r.split("?"),a=u[1].split("&");e.each(a,function(e,t){var n=t.split("="),r=n[0],i=n[1];r==="v"?u[0]="http://youtu.be/"+i:o[r]||(o[r]=i)}),r=u[0]}var f=i(r),l=s(f,o),c=o.width||t,h=o.height||n,p=c/h,d=e("<iframe>").attr("src",l).attr("width",c).attr("height",h).attr("frameborder",0).attr("allowfullscreen","0").data("format",p),v=e("<div>").attr("class","video-container"),m=e("<div>").attr("class","embed-responsive");return v.append(m.append(d))}var t=640,n=480;e&&e.onScreen&&e.onScreen.addPlugin("youtube",r,o)}(window.jQuery||window.Zepto),function(e){function r(e){return e&&e.indexOf("vimeo.com")!==-1}function i(e){return e.split("/").pop()}function s(e,t){var n=[],r="//player.vimeo.com/video/"+e;return t.title||n.push("title=0"),t.byline||n.push("byline=0"),t.portrait||n.push("portrait=0"),t.color&&n.push("color="+t.color),t.autoplay&&n.push("autoplay=1"),[r,n.join("&")].join("?")}function o(r,o){o=o||{};if(r.indexOf("?")!==-1){var u=r.split("?"),a=u[1].split("&");e.each(a,function(e,t){var n=t.split("=");o[n[0]]||(o[n[0]]=n[1])}),r=u[0]}var f=i(r),l=s(f,o),c=o.width||t,h=o.height||n,p=c/h,d=e("<iframe>").attr("src",l).attr("width",c).attr("height",h).attr("frameborder",0).attr("allowfullscreen","0").data("format",p),v=e("<div>").attr("class","video-container"),m=e("<div>").attr("class","embed-responsive");return v.append(m.append(d))}var t=640,n=480;e&&e.onScreen&&e.onScreen.addPlugin("vimeo",r,o)}(window.jQuery||window.Zepto)